(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"3pBd":function(e,t,i){"use strict";i.r(t),i.d(t,"SalesTransactionsModule",(function(){return ye}));var b=i("ofXK"),o=i("tyNb"),a=i("3Pt+"),n=i("fXoL"),r=i("59WL"),c=i("tk/3");let l=(()=>{class e{constructor(e){this.http=e}getBomTableResponse(){return this.http.post(r.a,{fieldNames:"BM_CODE,BM_I_CODE,I_CODENO,I_NAME",tableNames:"BOM_MASTER,ITEM_MASTER",condition:"BM_I_CODE=I_CODE AND BOM_MASTER.ES_DELETE=0 AND ITEM_MASTER.ES_DELETE=0"},r.d)}getItemTableResponse(){return this.http.post(r.a,{fieldNames:"I_CODE,I_UOM_NAME,I_CODENO,I_NAME",tableNames:"ITEM_UNIT_MASTER,ITEM_MASTER",condition:"ITEM_MASTER.I_UOM_CODE=ITEM_UNIT_MASTER.I_UOM_CODE AND ITEM_MASTER.ES_DELETE=0 AND ITEM_UNIT_MASTER.ES_DELETE=0"},r.d)}deleteTable(e,t){return this.http.put(r.b,{tableName:e,condition:t},r.d)}saveBomMaster(e){return this.http.post(r.h,JSON.stringify(e),r.d)}saveBomDetail(e){return this.http.post(r.g,JSON.stringify(e),r.d)}getBomDetailTable(e){return this.http.post(r.a,{fieldNames:"*",tableNames:"BOM_DETAIL",condition:"BD_BM_CODE="+e+"AND ES_DELETE=0"},r.d)}updateBomMaster(e,t){return this.http.put(r.i+"?bm_code="+t,JSON.stringify(e),r.d)}getInvoiceDetails(e){return this.http.get(r.c+"?bm_code="+e)}}return e.\u0275fac=function(t){return new(t||e)(n.Tb(c.a))},e.\u0275prov=n.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var s=i("7zfz"),d=i("1D4L"),p=i("QIUk"),O=i("Gxio"),u=i("Nf9I"),_=i("rEr+"),m=i("/RsI"),h=i("7kUa"),y=i("arFO"),P=i("jIHw");function f(e,t){if(1&e){const e=n.Qb();n.Pb(0,"div",25),n.Pb(1,"div",26),n.Pb(2,"button",27),n.Wb("click",(function(){return n.pc(e),n.Yb().addNewItem()})),n.yc(3,"Add Item "),n.Kb(4,"i",28),n.Ob(),n.Ob(),n.Kb(5,"div",26),n.Kb(6,"div",26),n.Pb(7,"div",26),n.Pb(8,"span",29),n.Kb(9,"i",30),n.Pb(10,"input",31),n.Wb("input",(function(t){return n.pc(e),n.Yb(),n.oc(24).filterGlobal(t.target.value,"contains")})),n.Ob(),n.Ob(),n.Ob(),n.Ob()}}function M(e,t){1&e&&(n.Pb(0,"tr"),n.Pb(1,"th",32),n.yc(2,"Finished Product Code "),n.Kb(3,"p-sortIcon",33),n.Ob(),n.Pb(4,"th",34),n.yc(5,"Finished Product Name "),n.Kb(6,"p-sortIcon",35),n.Ob(),n.Pb(7,"th"),n.yc(8,"Action"),n.Ob(),n.Ob())}function v(e,t){if(1&e){const e=n.Qb();n.Pb(0,"tr"),n.Pb(1,"td"),n.yc(2),n.Ob(),n.Pb(3,"td"),n.yc(4),n.Ob(),n.Pb(5,"td"),n.Pb(6,"button",36),n.Wb("click",(function(){n.pc(e);const i=t.$implicit,b=t.rowIndex;return n.Yb().deleteBomTableRow(i.BM_CODE,b)})),n.Kb(7,"i",37),n.Ob(),n.Pb(8,"button",38),n.Wb("click",(function(){n.pc(e);const i=t.$implicit;return n.Yb().editItem(i)})),n.Kb(9,"i",39),n.Ob(),n.Pb(10,"div",40),n.Pb(11,"button",41),n.yc(12," Print Invoice "),n.Ob(),n.Pb(13,"div",42),n.Pb(14,"a",43),n.Wb("click",(function(){n.pc(e);const i=t.$implicit;return n.Yb().printInvoice(i.BM_CODE,1)})),n.yc(15,"1"),n.Ob(),n.Pb(16,"a",43),n.Wb("click",(function(){n.pc(e);const i=t.$implicit;return n.Yb().printInvoice(i.BM_CODE,2)})),n.yc(17,"2"),n.Ob(),n.Pb(18,"a",43),n.Wb("click",(function(){n.pc(e);const i=t.$implicit;return n.Yb().printInvoice(i.BM_CODE,3)})),n.yc(19,"3"),n.Ob(),n.Pb(20,"a",43),n.Wb("click",(function(){n.pc(e);const i=t.$implicit;return n.Yb().printInvoice(i.BM_CODE,4)})),n.yc(21,"4"),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob()}if(2&e){const e=t.$implicit;n.yb(2),n.zc(e.I_CODENO),n.yb(2),n.zc(e.I_NAME)}}function I(e,t){1&e&&(n.Pb(0,"tr"),n.Pb(1,"td",44),n.Pb(2,"h4"),n.yc(3,"No Items Found."),n.Ob(),n.Ob(),n.Ob())}function g(e,t){1&e&&(n.Pb(0,"div"),n.yc(1,"Finished Product Code is required"),n.Ob())}function E(e,t){if(1&e&&(n.Pb(0,"div",76),n.wc(1,g,2,0,"div",77),n.Ob()),2&e){const e=n.Yb(2);n.yb(1),n.ec("ngIf",e.f.I_CODENO.errors.required)}}function D(e,t){1&e&&(n.Pb(0,"div"),n.yc(1,"Finished Product Name is required"),n.Ob())}function N(e,t){if(1&e&&(n.Pb(0,"div",76),n.wc(1,D,2,0,"div",77),n.Ob()),2&e){const e=n.Yb(2);n.yb(1),n.ec("ngIf",e.f.I_NAME.errors.required)}}function C(e,t){1&e&&(n.Pb(0,"div"),n.yc(1,"Raw Material Code is required"),n.Ob())}function A(e,t){if(1&e&&(n.Pb(0,"div",76),n.wc(1,C,2,0,"div",77),n.Ob()),2&e){const e=n.Yb(2);n.yb(1),n.ec("ngIf",e.m.I_CODENO.errors.required)}}function T(e,t){1&e&&(n.Pb(0,"div"),n.yc(1,"Raw Material Name is Required"),n.Ob())}function w(e,t){if(1&e&&(n.Pb(0,"div",76),n.wc(1,T,2,0,"div",77),n.Ob()),2&e){const e=n.Yb(2);n.yb(1),n.ec("ngIf",e.m.I_NAME.errors.required)}}function S(e,t){if(1&e&&(n.Pb(0,"option",78),n.yc(1),n.Ob()),2&e){const e=t.$implicit;n.ec("value",e.I_CODE),n.yb(1),n.Ac(" ",e.I_UOM_NAME," ")}}function Y(e,t){1&e&&(n.Pb(0,"div"),n.yc(1,"Quantity is Required"),n.Ob())}function x(e,t){if(1&e&&(n.Pb(0,"div",76),n.wc(1,Y,2,0,"div",77),n.Ob()),2&e){const e=n.Yb(2);n.yb(1),n.ec("ngIf",e.m.VQTY.errors.required)}}function R(e,t){if(1&e){const e=n.Qb();n.Pb(0,"div",79),n.Pb(1,"span",29),n.Kb(2,"i",80),n.Pb(3,"input",81),n.Wb("input",(function(t){return n.pc(e),n.Yb(),n.oc(72).filterGlobal(t.target.value,"contains")})),n.Ob(),n.Ob(),n.Ob()}}function B(e,t){1&e&&(n.Pb(0,"tr"),n.Pb(1,"th",82),n.yc(2,"Raw Material Code "),n.Kb(3,"p-sortIcon",83),n.Ob(),n.Pb(4,"th",84),n.yc(5,"Raw Material Name "),n.Kb(6,"p-sortIcon",85),n.Ob(),n.Pb(7,"th",86),n.yc(8,"Unit "),n.Kb(9,"p-sortIcon",87),n.Ob(),n.Pb(10,"th",88),n.yc(11,"Quantity "),n.Kb(12,"p-sortIcon",89),n.Ob(),n.Pb(13,"th",90),n.yc(14,"Scrap Quantity "),n.Kb(15,"p-sortIcon",91),n.Ob(),n.Pb(16,"th"),n.yc(17,"Action"),n.Ob(),n.Ob())}const F=function(){return{width:"100%"}};function Q(e,t){if(1&e){const e=n.Qb();n.Pb(0,"p-dropdown",100),n.Wb("ngModelChange",(function(t){return n.pc(e),n.Yb().$implicit.MAT_I_CODENO=t}))("onChange",(function(t){n.pc(e);const i=n.Yb().rowIndex;return n.Yb(2).onMaterialTableChange(t,i)})),n.Ob()}if(2&e){const e=n.Yb().$implicit,t=n.Yb(2);n.uc(n.fc(8,F)),n.ec("optionLabel",t.label)("options",t.I_CODENO)("ngModel",e.MAT_I_CODENO)("filter",!0)("resetFilterOnHide",!0)("virtualScroll",!0)}}function k(e,t){if(1&e&&n.yc(0),2&e){const e=n.Yb().$implicit;n.Ac(" ",e.MAT_I_CODENO," ")}}function U(e,t){if(1&e){const e=n.Qb();n.Pb(0,"p-dropdown",100),n.Wb("ngModelChange",(function(t){return n.pc(e),n.Yb().$implicit.MAT_I_NAME=t}))("onChange",(function(t){n.pc(e);const i=n.Yb().rowIndex;return n.Yb(2).onMaterialTableChange(t,i)})),n.Ob()}if(2&e){const e=n.Yb().$implicit,t=n.Yb(2);n.uc(n.fc(8,F)),n.ec("optionLabel",t.label)("options",t.I_NAME)("ngModel",e.MAT_I_NAME)("filter",!0)("resetFilterOnHide",!0)("virtualScroll",!0)}}function V(e,t){if(1&e&&n.yc(0),2&e){const e=n.Yb().$implicit;n.Ac(" ",e.MAT_I_NAME," ")}}function W(e,t){if(1&e){const e=n.Qb();n.Pb(0,"input",101),n.Wb("ngModelChange",(function(t){return n.pc(e),n.Yb().$implicit.VQTY=t})),n.Ob()}if(2&e){const e=n.Yb().$implicit;n.ec("ngModel",e.VQTY)}}function K(e,t){if(1&e&&n.yc(0),2&e){const e=n.Yb().$implicit;n.Ac(" ",e.VQTY," ")}}function L(e,t){if(1&e){const e=n.Qb();n.Pb(0,"input",101),n.Wb("ngModelChange",(function(t){return n.pc(e),n.Yb().$implicit.SQTY=t})),n.Ob()}if(2&e){const e=n.Yb().$implicit;n.ec("ngModel",e.SQTY)}}function z(e,t){if(1&e&&n.yc(0),2&e){const e=n.Yb().$implicit;n.Ac(" ",e.SQTY," ")}}function q(e,t){if(1&e){const e=n.Qb();n.Pb(0,"button",102),n.Wb("click",(function(){n.pc(e);const t=n.Yb().$implicit,i=n.Yb(2);return i.onMaterialTableRowEditInit(t,i.index)})),n.Kb(1,"i",39),n.Ob()}}function $(e,t){if(1&e){const e=n.Qb();n.Pb(0,"button",36),n.Wb("click",(function(){n.pc(e);const t=n.Yb().rowIndex;return n.Yb(2).onDeleteMaterialTable(t)})),n.Kb(1,"i",37),n.Ob()}}function G(e,t){if(1&e){const e=n.Qb();n.Pb(0,"button",103),n.Wb("click",(function(){n.pc(e);const t=n.Yb(),i=t.$implicit,b=t.rowIndex;return n.Yb(2).onMaterialTableRowEditSave(i,b)})),n.Ob()}}function H(e,t){if(1&e){const e=n.Qb();n.Pb(0,"button",104),n.Wb("click",(function(){n.pc(e);const t=n.Yb(),i=t.$implicit,b=t.rowIndex;return n.Yb(2).onMaterialTableRowEditCancel(i,b)})),n.Ob()}}function J(e,t){if(1&e&&(n.Pb(0,"tr",92),n.Pb(1,"td",93),n.Pb(2,"p-cellEditor"),n.wc(3,Q,1,9,"ng-template",94),n.wc(4,k,1,1,"ng-template",95),n.Ob(),n.Ob(),n.Pb(5,"td",93),n.Pb(6,"p-cellEditor"),n.wc(7,U,1,9,"ng-template",94),n.wc(8,V,1,1,"ng-template",95),n.Ob(),n.Ob(),n.Pb(9,"td"),n.yc(10),n.Ob(),n.Pb(11,"td",93),n.Pb(12,"p-cellEditor"),n.wc(13,W,1,1,"ng-template",94),n.wc(14,K,1,1,"ng-template",95),n.Ob(),n.Ob(),n.Pb(15,"td",93),n.Pb(16,"p-cellEditor"),n.wc(17,L,1,1,"ng-template",94),n.wc(18,z,1,1,"ng-template",95),n.Ob(),n.Ob(),n.Pb(19,"td"),n.wc(20,q,2,0,"button",96),n.wc(21,$,2,0,"button",97),n.wc(22,G,1,0,"button",98),n.wc(23,H,1,0,"button",99),n.Ob(),n.Ob()),2&e){const e=t.$implicit,i=t.editing;n.ec("pEditableRow",e),n.yb(10),n.zc(e.MAT_I_UOM_NAME),n.yb(10),n.ec("ngIf",!i),n.yb(1),n.ec("ngIf",!i),n.yb(1),n.ec("ngIf",i),n.yb(1),n.ec("ngIf",i)}}function j(e,t){1&e&&(n.Pb(0,"tr"),n.Pb(1,"td",105),n.Pb(2,"h4"),n.yc(3,"Add Material from above form"),n.Ob(),n.Ob(),n.Ob())}const Z=function(e){return{"is-invalid":e}},X=function(){return["MAT_I_CODENO","MAT_I_NAME","MAT_I_UOM_NAME","VQTY","SQTY"]};function ee(e,t){if(1&e){const e=n.Qb();n.Pb(0,"div",45),n.Pb(1,"form",46),n.Pb(2,"div",47),n.Pb(3,"div",48),n.Pb(4,"label",49),n.yc(5,"Finished Product Code "),n.Pb(6,"span",50),n.yc(7,"*"),n.Ob(),n.Ob(),n.Ob(),n.Pb(8,"div",51),n.Pb(9,"p-dropdown",52),n.Wb("onChange",(function(t){return n.pc(e),n.Yb().onProdSelected(t)})),n.Ob(),n.wc(10,E,2,1,"div",53),n.Ob(),n.Pb(11,"div",48),n.Pb(12,"label",54),n.yc(13,"Finished Product Name "),n.Pb(14,"span",50),n.yc(15,"*"),n.Ob(),n.Ob(),n.Ob(),n.Pb(16,"div",51),n.Pb(17,"p-dropdown",55),n.Wb("onChange",(function(t){return n.pc(e),n.Yb().onProdSelected(t)})),n.Ob(),n.wc(18,N,2,1,"div",53),n.Ob(),n.Ob(),n.Pb(19,"div",47),n.Pb(20,"div",48),n.Pb(21,"label",56),n.yc(22,"Unit "),n.Pb(23,"span",50),n.yc(24,"*"),n.Ob(),n.Ob(),n.Ob(),n.Pb(25,"div",51),n.Pb(26,"p-dropdown",57),n.Wb("onChange",(function(t){return n.pc(e),n.Yb().onProdSelected(t)})),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Pb(27,"div",58),n.Pb(28,"form",46),n.Pb(29,"div",59),n.Pb(30,"div",48),n.Pb(31,"label",60),n.yc(32,"Raw Material Code "),n.Pb(33,"span",50),n.yc(34,"*"),n.Ob(),n.Ob(),n.Ob(),n.Pb(35,"div",51),n.Pb(36,"p-dropdown",61),n.Wb("onChange",(function(t){return n.pc(e),n.Yb().onMaterialSelected(t)})),n.Ob(),n.wc(37,A,2,1,"div",53),n.Ob(),n.Pb(38,"div",48),n.Pb(39,"label",62),n.yc(40,"Raw Material Name "),n.Pb(41,"span",50),n.yc(42,"*"),n.Ob(),n.Ob(),n.Ob(),n.Pb(43,"div",51),n.Pb(44,"p-dropdown",63),n.Wb("onChange",(function(t){return n.pc(e),n.Yb().onMaterialSelected(t)})),n.Ob(),n.wc(45,w,2,1,"div",53),n.Ob(),n.Ob(),n.Pb(46,"div",47),n.Pb(47,"div",64),n.Pb(48,"label",65),n.yc(49,"Unit "),n.Pb(50,"span",50),n.yc(51,"*"),n.Ob(),n.Ob(),n.Pb(52,"select",66),n.Pb(53,"option",67),n.yc(54,"Unit"),n.Ob(),n.wc(55,S,2,2,"option",68),n.Ob(),n.Ob(),n.Kb(56,"div",69),n.Pb(57,"div",64),n.Pb(58,"label",70),n.yc(59,"Quantity"),n.Ob(),n.Kb(60,"input",71),n.wc(61,x,2,1,"div",53),n.Ob(),n.Kb(62,"div",69),n.Pb(63,"div",64),n.Pb(64,"label",72),n.yc(65,"Scrap Quantity"),n.Ob(),n.Kb(66,"input",73),n.Ob(),n.Ob(),n.Pb(67,"div",59),n.Pb(68,"div",74),n.Pb(69,"button",27),n.Wb("click",(function(){return n.pc(e),n.Yb().addMaterialToTable()})),n.yc(70,"Add"),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Pb(71,"p-table",75,15),n.wc(73,R,4,0,"ng-template",16),n.wc(74,B,18,0,"ng-template",17),n.wc(75,J,24,6,"ng-template",18),n.wc(76,j,4,0,"ng-template",19),n.Ob()}if(2&e){const e=n.Yb();n.yb(1),n.ec("formGroup",e.productForm),n.yb(8),n.ec("optionLabel",e.label)("options",e.I_CODENO)("filter",!0)("showClear",!0)("resetFilterOnHide",!0)("virtualScroll",!0)("autofocus",!0),n.yb(1),n.ec("ngIf",e.submitted&&e.f.I_CODENO.errors),n.yb(7),n.ec("optionLabel",e.label)("options",e.I_NAME)("filter",!0)("showClear",!0)("resetFilterOnHide",!0)("virtualScroll",!0),n.yb(1),n.ec("ngIf",e.submitted&&e.f.I_NAME.errors),n.yb(8),n.ec("optionLabel",e.label)("options",e.I_UOM_NAME)("filter",!0)("showClear",!0)("resetFilterOnHide",!0)("disabled",!0)("virtualScroll",!0),n.yb(2),n.ec("formGroup",e.materialForm),n.yb(8),n.ec("optionLabel",e.label)("options",e.I_CODENO)("filter",!0)("showClear",!0)("resetFilterOnHide",!0)("virtualScroll",!0),n.yb(1),n.ec("ngIf",e.submitted&&e.m.I_CODENO.errors),n.yb(7),n.ec("optionLabel",e.label)("options",e.I_NAME)("filter",!0)("showClear",!0)("resetFilterOnHide",!0)("virtualScroll",!0),n.yb(1),n.ec("ngIf",e.submitted&&e.m.I_NAME.errors),n.yb(10),n.ec("ngForOf",e.itemTableResponse),n.yb(5),n.ec("ngClass",n.gc(43,Z,e.submitted&&e.m.VQTY.errors)),n.yb(1),n.ec("ngIf",e.submitted&&e.m.VQTY.errors),n.yb(10),n.ec("value",e.material_table)("globalFilterFields",n.fc(45,X))}}function te(e,t){if(1&e){const e=n.Qb();n.Pb(0,"div",47),n.Pb(1,"button",106),n.Wb("click",(function(){return n.pc(e),n.Yb().save()})),n.Kb(2,"i",107),n.yc(3," Save"),n.Ob(),n.Pb(4,"button",108),n.Wb("click",(function(){n.pc(e);const t=n.Yb();return t.resetMaterialForm(),t.resetproductForm()})),n.Kb(5,"i",109),n.yc(6," Reset"),n.Ob(),n.Pb(7,"button",110),n.Wb("click",(function(){n.pc(e);const t=n.Yb();return t.displayBasic=!1,t.resetMaterialForm(),t.resetproductForm()})),n.Kb(8,"i",111),n.yc(9," Cancel"),n.Ob(),n.Ob()}}const ie=function(){return{width:"30vw"}},be=function(){return["I_CODENO","I_NAME"]},oe=function(){return[10,25,50]},ae=function(){return{width:"95vw"}};let ne=(()=>{class e{constructor(e,t,i,b,o,a){this.service=e,this.route=t,this.router=i,this.confirmationService=b,this.messageService=o,this.fb=a,this.material_table=[],this.I_CODENO=[],this.I_NAME=[],this.I_UOM_NAME=[],this.clonedProducts={}}ngOnInit(){this.bomTableResponse=this.route.snapshot.data.bomTable,this.itemTableResponse=this.route.snapshot.data.itemTable,this.productForm=this.fb.group({I_CODENO:["",a.n.required],I_UOM_NAME:[{value:"",disabled:!0},a.n.required],I_NAME:["",a.n.required]}),this.materialForm=this.fb.group({I_CODENO:["",a.n.required],I_UOM_NAME:[{value:"",disabled:!0},a.n.required],I_NAME:["",a.n.required],VQTY:["",a.n.required],SQTY:[""]});for(let e of this.itemTableResponse)this.I_CODENO.push({label:e.I_CODENO,value:e.I_CODE}),this.I_NAME.push({label:e.I_NAME,value:e.I_CODE}),this.I_UOM_NAME.push({label:e.I_UOM_NAME,value:e.I_CODE})}get f(){return this.productForm.controls}get m(){return this.materialForm.controls}printInvoice(e,t){this.router.navigate(["sales/transaction/invoice"],{queryParams:{bm_code:e,pg:t}})}deleteBomTableRow(e,t){this.confirmationService.confirm({message:"Are you sure that you want to delete?",header:"Delete Confirmation",icon:"pi pi-exclamation-triangle",key:"c1",accept:()=>{this.service.deleteTable("BOM_MASTER","BM_CODE="+e).subscribe(i=>{this.service.deleteTable("BOM_DETAIL","BD_BM_CODE="+e).subscribe(e=>{this.messageService.add({key:"t1",severity:"success",summary:"Delete Message",detail:"Deleted Successfully"}),this.bomTableResponse.splice(t,1)})})}})}addNewItem(){this.bom_detail=[],this.displayBasic=!0,this.submitted=!1,this.newItem=!0}onProdSelected(e){this.f.I_CODENO.setValue(e.value),this.f.I_NAME.setValue(e.value),this.f.I_UOM_NAME.setValue(e.value)}onMaterialSelected(e){this.m.I_CODENO.setValue(e.value),this.m.I_NAME.setValue(e.value),this.m.I_UOM_NAME.setValue(e.value)}getItemTableRow(e){return this.itemTableResponse.filter(t=>t.I_CODE==e)[0]}addMaterialToTable(){if(this.submitted=!0,this.materialForm.invalid||this.productForm.invalid)this.messageService.add({key:"t2",severity:"error",summary:"Error",detail:"Please Fill all required fields"});else if(this.material_table.some(e=>e.MAT_I_CODE==this.m.I_CODENO.value))this.messageService.add({key:"t2",severity:"info",summary:"Warning Message",detail:"Selected Material already added"});else{let e=this.getItemTableRow(this.m.I_CODENO.value);console.log(e),this.material_table.push({id:this.material_table.length+1,MAT_I_CODE:this.m.I_CODENO.value,MAT_I_CODENO:e.I_CODENO,MAT_I_NAME:e.I_NAME,MAT_I_UOM_NAME:e.I_UOM_NAME,SQTY:this.m.SQTY.value,VQTY:this.m.VQTY.value}),this.messageService.add({key:"t2",severity:"success",summary:"success",detail:"Material Added to the table"}),this.resetMaterialForm(),this.submitted=!1}}resetMaterialForm(){this.m.I_CODENO.setValue(0),this.m.I_UOM_NAME.setValue(""),this.m.I_NAME.setValue(""),this.m.VQTY.setValue(""),this.m.SQTY.setValue(""),this.submitted=!1}resetproductForm(){this.f.I_CODENO.setValue(0),this.f.I_NAME.setValue(""),this.f.I_UOM_NAME.setValue(""),this.submitted=!1,this.material_table=[]}onMaterialTableRowEditInit(e,t){console.log(e),this.clonedProducts[e.id]=Object.assign({},e),console.log(this.clonedProducts)}onMaterialTableRowEditSave(e,t){let i=this.getItemTableRow(e.MAT_I_CODE);e.MAT_I_CODE==this.clonedProducts[e.id].MAT_I_CODE?this.material_table[t]={id:e.id,MAT_I_CODE:i.I_CODE,MAT_I_NAME:i.I_NAME,SQTY:e.SQTY,MAT_I_UOM_NAME:i.I_UOM_NAME,VQTY:e.VQTY,MAT_I_CODENO:i.I_CODENO}:(this.material_table[t]={id:e.id,MAT_I_CODENO:i.I_CODENO,MAT_I_NAME:i.I_NAME,SQTY:e.SQTY,MAT_I_UOM_NAME:i.I_UOM_NAME,VQTY:e.VQTY,MAT_I_CODE:i.I_CODE},console.log(this.material_table)),delete this.clonedProducts[e.id],this.messageService.add({key:"t2",severity:"success",summary:"Success",detail:"Raw Material   is updated"})}onMaterialTableRowEditCancel(e,t){this.material_table[t]=this.clonedProducts[e.id],delete this.clonedProducts[e.id]}onMaterialTableChange(e,t){let i=this.getItemTableRow(e.value);this.material_table[t].MAT_I_CODENO=e.value,this.material_table[t].MAT_I_NAME=e.value,this.material_table[t].MAT_I_UOM_NAME=i.I_UOM_NAME,this.material_table[t].MAT_I_CODE=e.value}onDeleteMaterialTable(e){this.confirmationService.confirm({message:"Are you sure you want to delete ?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.material_table.splice(e,1),this.messageService.add({key:"t2",severity:"success",summary:"Successful",detail:"Deleted"})}})}editItem(e){this.newItem=!1,this.submitted=!1,this.material_table=[],this.bom_detail=[],this.BM_CODE=e.BM_CODE,this.f.I_CODENO.setValue(e.BM_I_CODE),this.f.I_NAME.setValue(e.BM_I_CODE),this.f.I_UOM_NAME.setValue(e.BM_I_CODE),this.service.getBomDetailTable(e.BM_CODE).subscribe(e=>{this.bom_detail=e,console.log(this.bom_detail)}).add(()=>{for(let e of this.bom_detail){let t=this.getItemTableRow(e.BD_I_CODE);this.material_table.push({id:this.material_table.length+1,MAT_I_CODENO:t.I_CODENO,MAT_I_NAME:t.I_NAME,SQTY:e.BD_SCRAPQTY,MAT_I_UOM_NAME:t.I_UOM_NAME,VQTY:e.BD_VQTY,MAT_I_CODE:e.BD_I_CODE})}}),this.displayBasic=!0}save(){this.productForm.invalid||0==this.material_table.length?this.messageService.add({key:"t2",severity:"error",summary:"Error",detail:"Please Fill all required fields"}):1==this.newItem?(this.bom_master={BM_I_CODE:this.f.I_CODENO.value},this.confirmationService.confirm({message:"Are you sure that you want to save?",header:"Save Confirmation",icon:"fas fa-save",accept:()=>{this.service.saveBomMaster(this.bom_master).subscribe(e=>{for(let t of this.material_table)console.log(t),this.bom_detail.push({BD_BM_CODE:e,BD_I_CODE:t.MAT_I_CODE,BD_SCRAPQTY:t.SQTY,BD_VQTY:t.VQTY,ES_DELETE:!1});this.service.saveBomDetail(this.bom_detail).subscribe(t=>{this.displayBasic=!1,this.bom_detail=[],this.resetMaterialForm(),this.resetproductForm(),this.messageService.add({key:"t1",severity:"success",summary:"Success",detail:"Added Successfully"}),this.bomTableResponse.push({BM_CODE:e,BM_I_CODE:this.bom_master.BM_I_CODE,I_CODENO:this.getItemTableRow(this.bom_master.BM_I_CODE).I_CODENO,I_NAME:this.getItemTableRow(this.bom_master.BM_I_CODE).I_NAME})})})},reject:()=>{this.bom_detail=[]}})):(this.bom_master={BM_I_CODE:this.f.I_CODENO.value},this.confirmationService.confirm({message:"Are you sure that you want to Update?",header:"Update Confirmation",icon:"fas fa-save",accept:()=>{this.service.updateBomMaster(this.bom_master,this.BM_CODE).subscribe(e=>{console.log("save::"+this.material_table),this.bom_detail=[];for(let t of this.material_table)this.bom_detail.push({BD_BM_CODE:this.BM_CODE,BD_I_CODE:t.MAT_I_CODE,BD_SCRAPQTY:t.SQTY,BD_VQTY:t.VQTY,ES_DELETE:!1}),console.log(this.bom_detail);this.service.saveBomDetail(this.bom_detail).subscribe(e=>{this.displayBasic=!1,this.bom_detail=[],this.bomTableResponse=[],this.service.getBomTableResponse().subscribe(e=>{this.bomTableResponse=e}),this.resetMaterialForm(),this.resetproductForm(),this.messageService.add({key:"t1",severity:"success",summary:"Success",detail:"Added Successfully"})})})},reject:()=>{this.bom_detail=[]}}))}}return e.\u0275fac=function(t){return new(t||e)(n.Jb(l),n.Jb(o.a),n.Jb(o.b),n.Jb(s.a),n.Jb(s.d),n.Jb(a.b))},e.\u0275cmp=n.Db({type:e,selectors:[["app-sales-bill-of-material"]],decls:34,vars:21,consts:[[1,"app-content","content","container-fluid"],[1,"content-wrapper"],[1,"content-header","row"],[1,"content-header-left","col-md-6","col-xs-12","mb-1"],[1,"content-header-title"],[1,"content-header-right","breadcrumbs-right","breadcrumbs-top","col-md-6","col-xs-12"],[1,"breadcrumb-wrapper","col-xs-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink",""],[1,"breadcrumb-item","active"],[1,"content-body"],["position","bottom-center","key","t1"],["key","c1",3,"baseZIndex"],[3,"value","rows","paginator","globalFilterFields","rowsPerPageOptions"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["header","Bill Of Material",3,"visible","baseZIndex","closable","visibleChange"],["key","t2"],[3,"baseZIndex"],["pTemplate","content"],["pTemplate","footer"],[1,"row","justify-content-between"],[1,"col-md-3"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],["pSortableColumn","I_CODENO"],["field","I_CODENO"],["pSortableColumn","I_NAME"],["field","I_NAME"],[1,"btn","btn-outline-danger","mr-1","round",3,"click"],[1,"fas","fa-trash"],[1,"btn","btn-outline-warning","mr-1","round",3,"click"],[1,"far","fa-edit"],[1,"btn-group"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-outline-info","round","dropdown-toggle"],[1,"dropdown-menu"],["target","_blank",1,"dropdown-item",3,"click"],["colspan","3",2,"text-align","center"],[1,"container","productForm"],["focusInvalidInput","",3,"formGroup"],[1,"row"],[1,"form-group","col-12","col-md-2"],["for","P_I_CODENO"],[1,"text-danger"],[1,"form-group","col-12","col-md-4"],["formControlName","I_CODENO","placeholder","Select Finished Product Code","itemSize","10","styleClass","pop-dropdown",3,"optionLabel","options","filter","showClear","resetFilterOnHide","virtualScroll","autofocus","onChange"],["class","alert alert-danger",4,"ngIf"],["for","P_I_NAME"],["formControlName","I_NAME","placeholder","Select Finished Product Code","itemSize","10","styleClass","pop-dropdown",3,"optionLabel","options","filter","showClear","resetFilterOnHide","virtualScroll","onChange"],["for","p_unit"],["formControlName","I_UOM_NAME","placeholder","UNIT","itemSize","10","styleClass","pop-dropdown",3,"optionLabel","options","filter","showClear","resetFilterOnHide","disabled","virtualScroll","onChange"],[1,"container","materialForm"],[1,"form-row"],["for","M_I_CODENO"],["formControlName","I_CODENO","placeholder","Select Raw Material Code","itemSize","10","styleClass","pop-dropdown",3,"optionLabel","options","filter","showClear","resetFilterOnHide","virtualScroll","onChange"],["for","M_I_NAME"],["formControlName","I_NAME","placeholder","Select Raw Material Name","itemSize","10","styleClass","pop-dropdown",3,"optionLabel","options","filter","showClear","resetFilterOnHide","virtualScroll","onChange"],[1,"form-group","col-4","col-md-3"],["for","m_unit"],["id","m_unit","formControlName","I_UOM_NAME","placeholder","select",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"d-sm-none","d-md-block","col-md-1"],["for","m_qty"],["id","m_qty","type","number","formControlName","VQTY","placeholder","0.00",1,"form-control",3,"ngClass"],["for","m_sqty"],["id","m_sqty","type","number","formControlName","SQTY","placeholder","0.00",1,"form-control"],[1,"col-md-12","material-add-btn"],["dataKey","id","editMode","row",3,"value","globalFilterFields"],[1,"alert","alert-danger"],[4,"ngIf"],[3,"value"],[2,"float","right"],[1,"pi","pi-search","text-bold"],["pInputText","","type","text","placeholder","Search...",2,"width","500px",3,"input"],["pSortableColumn","MAT_I_CODENO"],["field","MAT_I_CDE"],["pSortableColumn","MAT_I_NAME"],["field","MAT_I_NAME"],["pSortableColumn","MAT_I_UOM_NAME"],["field","MAT_I_UOM_NAME"],["pSortableColumn","VQTY"],["field","VQTY"],["pSortableColumn","SQTY"],["field","SQTY"],[3,"pEditableRow"],["pEditableColumn",""],["pTemplate","input"],["pTemplate","output"],["pInitEditableRow","","class","btn btn-outline-warning mr-1 round",3,"click",4,"ngIf"],["class","btn btn-outline-danger mr-1 round",3,"click",4,"ngIf"],["pButton","","pRipple","","type","button","pSaveEditableRow","","icon","pi pi-check","class","p-button-rounded p-button-text p-button-success p-mr-2",3,"click",4,"ngIf"],["pButton","","pRipple","","type","button","pCancelEditableRow","","icon","pi pi-times","class","p-button-rounded p-button-text p-button-danger",3,"click",4,"ngIf"],["itemSize","10",3,"optionLabel","options","ngModel","filter","resetFilterOnHide","virtualScroll","ngModelChange","onChange"],["pInputText","","type","text",3,"ngModel","ngModelChange"],["pInitEditableRow","",1,"btn","btn-outline-warning","mr-1","round",3,"click"],["pButton","","pRipple","","type","button","pSaveEditableRow","","icon","pi pi-check",1,"p-button-rounded","p-button-text","p-button-success","p-mr-2",3,"click"],["pButton","","pRipple","","type","button","pCancelEditableRow","","icon","pi pi-times",1,"p-button-rounded","p-button-text","p-button-danger",3,"click"],["colspan","6",2,"text-align","center"],[1,"btn","btn-outline-primary",3,"click"],[1,"fas","fa-save"],[1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-undo"],[1,"btn","btn-outline-danger",3,"click"],[1,"fas","fa-times"]],template:function(e,t){1&e&&(n.Kb(0,"app-nav-sales"),n.Pb(1,"div",0),n.Pb(2,"div",1),n.Pb(3,"div",2),n.Pb(4,"div",3),n.Pb(5,"h2",4),n.yc(6,"Bill Of Material"),n.Ob(),n.Ob(),n.Pb(7,"div",5),n.Pb(8,"div",6),n.Pb(9,"ol",7),n.Pb(10,"li",8),n.Pb(11,"a",9),n.yc(12,"Home"),n.Ob(),n.Ob(),n.Pb(13,"li",10),n.yc(14,"Sales "),n.Ob(),n.Pb(15,"li",10),n.yc(16,"Transaction "),n.Ob(),n.Pb(17,"li",10),n.yc(18,"Bill Of Material "),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Pb(19,"div",11),n.Pb(20,"p-card"),n.Kb(21,"p-toast",12),n.Kb(22,"p-confirmDialog",13),n.Pb(23,"p-table",14,15),n.wc(25,f,11,0,"ng-template",16),n.wc(26,M,9,0,"ng-template",17),n.wc(27,v,22,2,"ng-template",18),n.wc(28,I,4,0,"ng-template",19),n.Ob(),n.Ob(),n.Ob(),n.Pb(29,"p-dialog",20),n.Wb("visibleChange",(function(e){return t.displayBasic=e})),n.Kb(30,"p-toast",21),n.Kb(31,"p-confirmDialog",22),n.wc(32,ee,77,46,"ng-template",23),n.wc(33,te,10,0,"ng-template",24),n.Ob(),n.Ob(),n.Ob()),2&e&&(n.yb(22),n.uc(n.fc(16,ie)),n.ec("baseZIndex",1e4),n.yb(1),n.ec("value",t.bomTableResponse)("rows",10)("paginator",!0)("globalFilterFields",n.fc(17,be))("rowsPerPageOptions",n.fc(18,oe)),n.yb(6),n.uc(n.fc(19,ae)),n.ec("visible",t.displayBasic)("baseZIndex",1e4)("closable",!1),n.yb(2),n.uc(n.fc(20,ie)),n.ec("baseZIndex",1e4))},directives:[d.a,o.c,p.a,O.a,u.a,_.i,s.f,m.a,h.a,_.h,_.g,a.p,a.h,a.d,y.a,a.g,a.c,b.k,a.m,a.j,a.o,b.j,a.k,a.a,b.i,_.d,_.c,_.b,a.i,_.e,P.a,_.f,_.a],styles:["[_nghost-%COMP%]     .p-datatable .p-datatable-header{background:none;border:none}[_nghost-%COMP%]     .p-datatable .p-datatable-header .p-inputtext{border:none}[_nghost-%COMP%]     .p-datatable .p-datatable-header .p-inputtext:enabled:focus{border-bottom:1px solid #2196f3;box-shadow:none}[_nghost-%COMP%]     .p-datatable .p-datatable-header .p-inputtext:enabled:hover{border-bottom:1px solid #2196f3}[_nghost-%COMP%]     .p-dialog-content .container.materialForm, [_nghost-%COMP%]     .p-dialog-content .container.productForm{padding:20px;margin:10px 10px 10px 0;box-shadow:0 0 10px #cfcdcd;width:100%}[_nghost-%COMP%]     .p-dialog-footer{text-align:center;padding-top:10px}[_nghost-%COMP%]     .material-add-btn{text-align:right}[_nghost-%COMP%]     .pop-dropdown, [_nghost-%COMP%]     .pop-dropdown .p-dropdown-items-wrapper{width:20rem}[_nghost-%COMP%]     .p-dropdown.ng-dirty.ng-invalid{border-color:unset!important}"]}),e})();var re=i("MfXf");let ce=(()=>{class e{constructor(e){this.service=e}resolve(e,t){return this.service.getBomTableResponse()}}return e.\u0275fac=function(t){return new(t||e)(n.Tb(l))},e.\u0275prov=n.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),le=(()=>{class e{constructor(e){this.service=e}resolve(e,t){return this.service.getItemTableResponse()}}return e.\u0275fac=function(t){return new(t||e)(n.Tb(l))},e.\u0275prov=n.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function se(e,t){if(1&e&&(n.Pb(0,"tr"),n.Pb(1,"td"),n.yc(2),n.Ob(),n.Pb(3,"td"),n.yc(4),n.Ob(),n.Pb(5,"td"),n.yc(6),n.Ob(),n.Pb(7,"td"),n.yc(8),n.Ob(),n.Pb(9,"td"),n.yc(10),n.Ob(),n.Pb(11,"td"),n.yc(12),n.Ob(),n.Pb(13,"td"),n.yc(14),n.Ob(),n.Pb(15,"td",33),n.yc(16),n.Ob(),n.Ob()),2&e){const e=t.$implicit;n.yb(2),n.zc(e.SrNo),n.yb(2),n.zc(e.CPOD_CUST_I_CODE),n.yb(2),n.zc(e.CPOD_CUST_I_NAME),n.yb(2),n.zc(e.IND_PACK_DESC),n.yb(2),n.zc(e.I_UOM_NAME),n.yb(2),n.zc(e.IND_INQTY),n.yb(2),n.zc(e.IND_RATE),n.yb(2),n.zc(e.IND_AMT)}}function de(e,t){if(1&e&&(n.Pb(0,"div",1),n.Pb(1,"div",2),n.Pb(2,"div",3),n.Pb(3,"div",4),n.Pb(4,"div",5),n.Pb(5,"h6"),n.yc(6,"TAX-INVOICE"),n.Ob(),n.Pb(7,"h5",6),n.yc(8),n.Ob(),n.Pb(9,"h2",7),n.yc(10),n.Ob(),n.Pb(11,"h5",8),n.yc(12),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Pb(13,"div",3),n.Pb(14,"div",9),n.Pb(15,"h6",10),n.yc(16),n.Ob(),n.Ob(),n.Pb(17,"div",9),n.Pb(18,"h6",10),n.yc(19),n.Ob(),n.Ob(),n.Ob(),n.Kb(20,"hr"),n.Pb(21,"table",11),n.Pb(22,"tbody"),n.Pb(23,"tr"),n.Pb(24,"td"),n.Pb(25,"b"),n.yc(26,"GSTIN NO. :"),n.Ob(),n.Ob(),n.Pb(27,"td",12),n.yc(28),n.Ob(),n.Pb(29,"td"),n.Pb(30,"b"),n.yc(31,"INVOICE NO"),n.Ob(),n.Ob(),n.Pb(32,"td"),n.yc(33),n.Ob(),n.Ob(),n.Pb(34,"tr"),n.Pb(35,"td"),n.Pb(36,"span",8),n.Pb(37,"b"),n.yc(38,"state :"),n.Ob(),n.yc(39),n.Ob(),n.Ob(),n.Pb(40,"td",12),n.Pb(41,"span",13),n.Pb(42,"b"),n.yc(43,"state code :"),n.Ob(),n.yc(44),n.Ob(),n.Ob(),n.Pb(45,"td"),n.Pb(46,"span",8),n.Pb(47,"b"),n.yc(48,"E Way bill No :"),n.Ob(),n.Ob(),n.Ob(),n.Pb(49,"td"),n.yc(50),n.Zb(51,"date"),n.Ob(),n.Ob(),n.Pb(52,"tr"),n.Pb(53,"td"),n.Pb(54,"span",14),n.yc(55,"E Way bill no. :"),n.Ob(),n.Ob(),n.Pb(56,"td",12),n.yc(57),n.Ob(),n.Pb(58,"td"),n.Pb(59,"span",14),n.yc(60,"Time of supply :"),n.Ob(),n.Ob(),n.Pb(61,"td"),n.yc(62),n.Ob(),n.Ob(),n.Pb(63,"tr"),n.Pb(64,"td",15),n.Pb(65,"span",14),n.yc(66,"PAN NO : "),n.Ob(),n.Ob(),n.Pb(67,"td",16),n.yc(68),n.Ob(),n.Pb(69,"td",15),n.Pb(70,"span",14),n.yc(71,"WHETHER TAX ON REVERSE CHARGE : "),n.Ob(),n.Ob(),n.Pb(72,"td",15),n.yc(73),n.Ob(),n.Ob(),n.Pb(74,"tr"),n.Pb(75,"td",17),n.Pb(76,"span",14),n.yc(77,"details of receiver (billed to)"),n.Ob(),n.Ob(),n.Pb(78,"td",18),n.Pb(79,"span",14),n.yc(80,"details of consinee (billed to)"),n.Ob(),n.Ob(),n.Ob(),n.Pb(81,"tr"),n.Pb(82,"td",19),n.Pb(83,"span",14),n.yc(84),n.Ob(),n.Ob(),n.Pb(85,"td",20),n.Pb(86,"span",14),n.yc(87),n.Ob(),n.Ob(),n.Ob(),n.Pb(88,"tr"),n.Pb(89,"td",19),n.Pb(90,"span",8),n.yc(91),n.Ob(),n.Ob(),n.Pb(92,"td",20),n.Pb(93,"span",8),n.yc(94),n.Ob(),n.Ob(),n.Ob(),n.Pb(95,"tr"),n.Pb(96,"td",21),n.Pb(97,"span",8),n.Pb(98,"b"),n.yc(99,"PAN NO. :"),n.Ob(),n.Ob(),n.Ob(),n.Pb(100,"td",22),n.yc(101),n.Ob(),n.Pb(102,"td",21),n.Pb(103,"span",8),n.Pb(104,"b"),n.yc(105,"PAN NO. :"),n.Ob(),n.Ob(),n.Ob(),n.Pb(106,"td",21),n.yc(107),n.Ob(),n.Ob(),n.Pb(108,"tr"),n.Pb(109,"td",21),n.Pb(110,"span",8),n.Pb(111,"b"),n.yc(112,"state. :"),n.Ob(),n.Ob(),n.Ob(),n.Pb(113,"td",22),n.yc(114),n.Ob(),n.Pb(115,"td",21),n.Pb(116,"span",8),n.Pb(117,"b"),n.yc(118,"state. :"),n.Ob(),n.Ob(),n.Ob(),n.Pb(119,"td",21),n.yc(120),n.Ob(),n.Ob(),n.Pb(121,"tr"),n.Pb(122,"td",21),n.Pb(123,"span",8),n.Pb(124,"b"),n.yc(125,"state code :"),n.Ob(),n.Ob(),n.Ob(),n.Pb(126,"td",22),n.yc(127),n.Ob(),n.Pb(128,"td",21),n.Pb(129,"span",8),n.Pb(130,"b"),n.yc(131,"state code :"),n.Ob(),n.Ob(),n.Ob(),n.Pb(132,"td",21),n.yc(133),n.Ob(),n.Ob(),n.Pb(134,"tr"),n.Pb(135,"td",23),n.Pb(136,"span",8),n.Pb(137,"b"),n.yc(138,"GST :"),n.Ob(),n.Ob(),n.Ob(),n.Pb(139,"td",24),n.yc(140),n.Ob(),n.Pb(141,"td",23),n.Pb(142,"span",8),n.Pb(143,"b"),n.yc(144,"GST :"),n.Ob(),n.Ob(),n.Ob(),n.Pb(145,"td",23),n.yc(146),n.Ob(),n.Ob(),n.Pb(147,"tr"),n.Pb(148,"td",23),n.Pb(149,"span",8),n.Pb(150,"b"),n.yc(151,"PO NO : "),n.Ob(),n.Ob(),n.yc(152),n.Ob(),n.Pb(153,"td",24),n.Pb(154,"b"),n.yc(155,"Date :"),n.Ob(),n.yc(156),n.Zb(157,"date"),n.Ob(),n.Pb(158,"td",23),n.Pb(159,"span",8),n.Pb(160,"b"),n.yc(161,"Vendor code :"),n.Ob(),n.Ob(),n.Ob(),n.Pb(162,"td",23),n.yc(163),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Pb(164,"div",25),n.Pb(165,"table",26),n.Pb(166,"thead",10),n.Pb(167,"tr"),n.Pb(168,"th"),n.yc(169,"Sr.No"),n.Ob(),n.Pb(170,"th"),n.yc(171,"Description"),n.Ob(),n.Pb(172,"th"),n.yc(173,"HNS/SAC"),n.Ob(),n.Pb(174,"th"),n.yc(175,"Packing"),n.Ob(),n.Pb(176,"th"),n.yc(177,"Unit"),n.Ob(),n.Pb(178,"th"),n.yc(179,"Qty"),n.Ob(),n.Pb(180,"th"),n.yc(181,"Rate"),n.Ob(),n.Pb(182,"th"),n.yc(183,"AMOUNT"),n.Ob(),n.Ob(),n.Ob(),n.Pb(184,"tbody"),n.wc(185,se,17,8,"tr",27),n.Pb(186,"tr"),n.Pb(187,"td",28),n.yc(188),n.Ob(),n.Pb(189,"td",20),n.yc(190),n.Ob(),n.Pb(191,"td",20),n.Pb(192,"span"),n.yc(193,"Sub Total "),n.Ob(),n.Ob(),n.Pb(194,"td",29),n.yc(195),n.Ob(),n.Ob(),n.Pb(196,"tr"),n.Pb(197,"td",30),n.yc(198),n.Ob(),n.Pb(199,"td",20),n.yc(200),n.Ob(),n.Kb(201,"td",31),n.Ob(),n.Pb(202,"tr"),n.Pb(203,"td",32),n.yc(204),n.Ob(),n.Pb(205,"td",20),n.yc(206),n.Ob(),n.Pb(207,"td",33),n.yc(208),n.Ob(),n.Ob(),n.Pb(209,"tr"),n.Pb(210,"td",32),n.yc(211),n.Ob(),n.Pb(212,"td",20),n.yc(213),n.Ob(),n.Pb(214,"td",33),n.yc(215),n.Ob(),n.Ob(),n.Pb(216,"tr"),n.Pb(217,"td",32),n.yc(218),n.Ob(),n.Pb(219,"td",20),n.Pb(220,"b"),n.yc(221,"Grand Total"),n.Ob(),n.Ob(),n.Pb(222,"td",33),n.Pb(223,"b"),n.yc(224),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Pb(225,"div",3),n.Pb(226,"div",34),n.Pb(227,"table",11),n.Pb(228,"tbody"),n.Pb(229,"tr"),n.Pb(230,"td",35),n.yc(231," I/We hereby certified that my /our registration certificate under the GST Act,2017 is in force on the date on which the supply of the goods specified in this tax invoice is made by me/us and that the transaction of supplies covered by this tax invoice has been effected by me/us and it shall be accounted for the turnover of supplies while filling of return and the due tax, if any ,payable on the supplies has been paid or shall paid. Certified that the particulars given above are true and correct and the amount indicated represents the price actually charged and that there is no flow of additional consideration directly from buyer. Interest @24% P.A. will be charged on all overdue invoices "),n.Ob(),n.Pb(232,"td",36),n.yc(233),n.Ob(),n.Pb(234,"td",10),n.yc(235," For "),n.Pb(236,"b"),n.yc(237),n.Ob(),n.Ob(),n.Ob(),n.Pb(238,"tr"),n.Pb(239,"td",37),n.yc(240," Receiver's signature "),n.Ob(),n.Pb(241,"td",38),n.yc(242," Authorized Signature "),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Pb(243,"p"),n.yc(244),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob()),2&e){const e=n.Yb();n.yb(8),n.zc(e.name),n.yb(2),n.zc(null==e.invoiceDetails[0]?null:e.invoiceDetails[0].CM_NAME),n.yb(2),n.zc(null==e.invoiceDetails[0]?null:e.invoiceDetails[0].CM_ADDRESS1),n.yb(4),n.Ac(" Tel:",e.invoiceDetails[0].CM_PHONENO," "),n.yb(3),n.Ac(" E-Mail:",e.invoiceDetails[0].CM_EMAILID," "),n.yb(9),n.Ac(" ",e.invoiceDetails[0].CM_GST_NO," "),n.yb(5),n.Ac(" ",e.invoiceDetails[0].InvoiceNumber," "),n.yb(6),n.Ac(" ",e.invoiceDetails[0].SM_NAME," "),n.yb(5),n.Ac(" ",e.invoiceDetails[0].SM_STATE_CODE," "),n.yb(6),n.Ac(" ",n.ac(51,46,e.invoiceDetails[0].INM_DATE,"dd/MM/yyyy")," "),n.yb(7),n.Ac(" ",e.invoiceDetails[0].EWAYBILLNO," "),n.yb(5),n.Ac(" ",e.invoiceDetails[0].INM_ISSU_TIME," "),n.yb(6),n.Ac(" ",e.invoiceDetails[0].CM_PAN_NO," "),n.yb(5),n.Ac(" ",e.invoiceDetails[0].whethertaxonreversecharge," "),n.yb(11),n.Ac("",e.invoiceDetails[0].P_NAME," "),n.yb(3),n.Ac("",e.invoiceDetails[0].DeliveryAddressPartyName," "),n.yb(4),n.Ac("",e.invoiceDetails[0].P_ADD1," "),n.yb(3),n.Ac("",e.invoiceDetails[0].DeliveryAddressPartyAddress," "),n.yb(7),n.Ac(" ",e.invoiceDetails[0].P_PAN," "),n.yb(6),n.Ac(" ",e.invoiceDetails[0].DeliveryAddressPartyPAN," "),n.yb(7),n.Ac(" ",e.invoiceDetails[0].DeliveryAddressPartyState," "),n.yb(6),n.Ac(" ",e.invoiceDetails[0].DeliveryAddressPartyStateName," "),n.yb(7),n.Ac(" ",e.invoiceDetails[0].SM_COUNTRY_CODE," "),n.yb(6),n.Ac(" ",e.invoiceDetails[0].DeliveryAddressPartyStateCode," "),n.yb(7),n.Ac(" ",e.invoiceDetails[0].GSTNO," "),n.yb(6),n.Ac(" ",e.invoiceDetails[0].DeliveryAddressPartyGSTNO," "),n.yb(6),n.Ac("",e.invoiceDetails[0].CPOM_NO," "),n.yb(4),n.Ac(" ",n.ac(157,49,e.invoiceDetails[0].CPOM_DATE,"dd/MM/yyyy")," "),n.yb(7),n.Ac(" ",e.invoiceDetails[0].P_VEND_CODE," "),n.yb(22),n.ec("ngForOf",e.invoiceDetails),n.yb(3),n.Ac(" Mode Of Transport : ",e.invoiceDetails[0].INM_TRANSPORT," "),n.yb(2),n.Ac(" Vehicle No : ",e.invoiceDetails[0].INM_VEH_NO," "),n.yb(5),n.Ac(" ",e.invoiceDetails[0].INM_NET_AMT," "),n.yb(3),n.Ac(" Transporter : ",e.invoiceDetails[0].INM_TRANSPORT_BY," "),n.yb(2),n.Ac(" L.R. : ",e.invoiceDetails[0].INM_LR_NO," "),n.yb(4),n.Ac(" CGST Value IN Words ",e.invoiceDetails[0].CGSTINWORDS," "),n.yb(2),n.Ac(" CGST(",e.invoiceDetails[0].INM_BEXCISE,"%) "),n.yb(2),n.Ac(" ",e.invoiceDetails[0].INM_BE_AMT," "),n.yb(3),n.Ac(" SGST Value In Words ",e.invoiceDetails[0].SGSTINWORDS," "),n.yb(2),n.Ac(" SGST(",e.invoiceDetails[0].INM_EDUC_CESS,"%) "),n.yb(2),n.Ac(" ",e.invoiceDetails[0].INM_EDUC_AMT," "),n.yb(3),n.Ac(" Invoice Value In Words ",e.invoiceDetails[0].GRANDTOTALINWORDS," "),n.yb(6),n.zc(e.invoiceDetails[0].INM_G_AMT),n.yb(9),n.Ac(" Payment Terms: ",e.invoiceDetails[0].CPOM_PAY_TERM," "),n.yb(4),n.zc(e.invoiceDetails[0].CompanyNameinSignature),n.yb(7),n.zc(e.invoiceDetails[0].AtBottomofInvoice)}}let pe=(()=>{class e{constructor(e){this.service=e,this.isDataLoaded=!1,this.dummyarray=[]}ngOnInit(){this.service.getInvoiceDetails(this.INM_CODE).subscribe(e=>{this.invoiceDetails=e,console.log(this.invoiceDetails,this.invoiceDetails.length,this.name),this.isDataLoaded=!0})}}return e.\u0275fac=function(t){return new(t||e)(n.Jb(l))},e.\u0275cmp=n.Db({type:e,selectors:[["app-print-invoice"]],inputs:{invoiceDetails:"invoiceDetails",INM_CODE:"INM_CODE",name:"name"},decls:1,vars:1,consts:[["class","page","id","page",4,"ngIf"],["id","page",1,"page"],[1,"subpage"],[1,"row"],[1,"col-sm-12"],[1,"heading"],[2,"text-align","right","padding","0px"],[1,"font-weight-bold"],[1,"text-uppercase"],[1,"col-md-6"],[1,"text-center"],[1,"table","table-borderless"],[1,"table_right_border"],[1,"text-uppercase",2,"float","right"],[1,"font-weight-bold","text-uppercase"],[1,"table_bottom_border"],[1,"table_right_border","table_bottom_border"],["colspan","2",1,"text-center","table_bottom_border","table_right_border"],["colspan","2",1,"text-center","table_bottom_border"],["colspan","2",1,"table_right_border"],["colspan","2"],[2,"padding-top","1px","padding-bottom","1px"],[1,"table_right_border",2,"padding-top","1px","padding-bottom","1px"],[1,"table_bottom_border",2,"padding-top","1px","padding-bottom","1px"],[1,"table_right_border","table_bottom_border",2,"padding-top","1px","padding-bottom","1px"],[1,"table"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"],["colspan","3",1,"text-uppercase"],[1,"font-weight-bold",2,"text-align","right"],["colspan","3",1,"text-uppercase",2,"border-right","none !important"],["colspan","3"],["colspan","5"],[2,"text-align","right"],[1,"col-md-12"],["rowspan","4",1,"table_right_border","text-justify","table_bottom_border",2,"font-size","8px"],[1,"table_right_border","text-center"],[1,"table_right_border","table_bottom_border","text-center","font-weight-bold","text-uppercase",2,"vertical-align","bottom"],[1,"text-center","table_bottom_border",2,"vertical-align","bottom"]],template:function(e,t){1&e&&n.wc(0,de,245,52,"div",0),2&e&&n.ec("ngIf",t.isDataLoaded)},directives:[b.k,b.j],pipes:[b.d],styles:[".subpage{padding:10px;border-radius:5px;border:5px double #000}@media print{.page{margin:10px;page-break-after:auto}}html body.fixed-navbar{padding-top:0!important}.heading{text-align:center}.heading,.heading h1{font-family:Times New Roman,Times,serif}.heading h6{font-size:16px}hr{border:2px solid;padding:0;margin:5px}.table .table .table_right_border,.table tr .table_left_border,.table tr .table_right_border{border-right:2px solid}.table .table .table_left_border{border-left:2px solid}.table tr .table_bottom_border{border-bottom:2px solid}.table-bordered,.table-bordered tr td,.table-bordered tr th{border:2px solid}.table-borderless tr td{width:25%}.table-bordered tr td,.table-borderless tr td{padding:3px}.table-bordered tr th{text-align:center}.table-bordered tr.noBorder td{border:0}.table .table{margin:0;background:none;font-size:14px}.table .table th{padding:2px;margin:0}.table{margin-bottom:1px}.table,.table h6{font-size:12px}.subpage{page-break-after:always}.subpage:last-child{page-break-after:avoid}.pd-1{padding:1px}"],encapsulation:2}),e})();function Oe(e,t){if(1&e&&(n.Pb(0,"div",1),n.Kb(1,"app-print-invoice",2),n.Ob()),2&e){const e=n.Yb();n.yb(1),n.ec("invoiceDetails",e.invoiceDetails)("INM_CODE",e.INM_CODE)}}function ue(e,t){if(1&e&&(n.Pb(0,"div",1),n.Kb(1,"app-print-invoice",3),n.Ob()),2&e){const e=n.Yb();n.yb(1),n.ec("invoiceDetails",e.invoiceDetails)("INM_CODE",e.INM_CODE)}}function _e(e,t){if(1&e&&(n.Pb(0,"div",1),n.Kb(1,"app-print-invoice",4),n.Ob()),2&e){const e=n.Yb();n.yb(1),n.ec("invoiceDetails",e.invoiceDetails)("INM_CODE",e.INM_CODE)}}function me(e,t){if(1&e&&(n.Pb(0,"div",1),n.Kb(1,"app-print-invoice",5),n.Ob()),2&e){const e=n.Yb();n.yb(1),n.ec("invoiceDetails",e.invoiceDetails)("INM_CODE",e.INM_CODE)}}const he=[{path:"bom",component:ne,resolve:{bomTable:ce,itemTable:le}},{path:"invoice",component:(()=>{class e{constructor(e,t){this.route=e,this.service=t}ngOnInit(){this.route.queryParams.subscribe(e=>{this.INM_CODE=e.bm_code,this.pg=e.pg})}}return e.\u0275fac=function(t){return new(t||e)(n.Jb(o.a),n.Jb(l))},e.\u0275cmp=n.Db({type:e,selectors:[["app-sales-invoice"]],decls:4,vars:4,consts:[["class","pages",4,"ngIf"],[1,"pages"],["name","Original",3,"invoiceDetails","INM_CODE"],["name","Duplication",3,"invoiceDetails","INM_CODE"],["name","Triplicate",3,"invoiceDetails","INM_CODE"],["name","Quadraduplicate",3,"invoiceDetails","INM_CODE"]],template:function(e,t){1&e&&(n.wc(0,Oe,2,2,"div",0),n.wc(1,ue,2,2,"div",0),n.wc(2,_e,2,2,"div",0),n.wc(3,me,2,2,"div",0)),2&e&&(n.ec("ngIf",t.pg>0),n.yb(1),n.ec("ngIf",t.pg>1),n.yb(1),n.ec("ngIf",t.pg>2),n.yb(1),n.ec("ngIf",t.pg>3))},directives:[b.k,pe],styles:[".pages[_ngcontent-%COMP%]{page-break-after:always}"]}),e})()}];let ye=(()=>{class e{}return e.\u0275mod=n.Hb({type:e}),e.\u0275inj=n.Gb({factory:function(t){return new(t||e)},providers:[l,ce,le],imports:[[b.b,re.a,c.b,a.e,a.l,p.b,_.j,h.b,m.b,y.b,O.b,u.b,o.d.forChild(he)]]}),e})()}}]);